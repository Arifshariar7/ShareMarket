{% extends 'company/base.html' %}

{% block title %}Magic Formula{% endblock %}

{% block content %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" integrity="sha384-Zm5hE3JxhlKt2Q4tRk4SkR5B7KuN/6+V7XuXKn2Qz7Fb1nKUpI7MOKwMQUwvxMhT" crossorigin="anonymous">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-xxxxxxxxxxxxxx" crossorigin="anonymous"></script>
    
    <!-- Bootstrap 5 JavaScript Bundle with Popper and JavaScript plugins -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-ASQbxBP7GGi8+aLhuvGqnygByRxMwO/5MQSj5AH5D5VNEJ1qBj0Q4e/IHQzR5w7f" crossorigin="anonymous"></script>

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Rank</th>
        <th>Name</th>
        <th>Price</th>
        <th>ROCE %</th>
        <th>PE</th>
        <th>P/B</th>
        <th>Div Yield %</th>
        <th>Magic Formula Rank</th>
      </tr>
    </thead>
    <tbody>
      {% for stock in stocks %}
      <tr>
        <td>{{ stock.mf_rank }}</td>
        <td>{{ stock.name }}</td>
        <td>{{ stock.price }}</td>
        <td>{{ stock.roce }}</td>
        <td>{{ stock.pe }}</td>
        <td>{{ stock.pb }}</td>
        <td>{{ stock.div_yield }}</td>
        <td>{{ stock.mf_rank }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="8">No stocks found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
